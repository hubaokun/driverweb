2015-07-29
1 修改学员取消订单操作：当学员取消订单时，只修改订单表t_order的studentstate为4，不做其他操作，并且向此订单关联的
      教练推送消息，提示让他同意取消此订单
     相关影响：SorderServlet类：修改cancelOrder方法
2 添加教练同意的取消订单操作，执行流程和原来操作相同
      相关影响：SorderServlet类：新增cancelOrderAgree方法
3 getNowTask 新增返回agreecancel字段，表示是否有需要教练同意取消操作的
2015-07-30
1 SBookServiceImpl.java getNearByCoach方法
2 SOrderServiceImpl类getUnCompleteOrder 为完成订单
3 SBookServiceImpl getCoachList 完善教练列表中开课教练查询条件
  开课条件：
  select * from t_coach_schedule where hour = 0 and state = 1  并且 count（相同date中同一个教练是否存在hour不为0的记录  并且  isrest=0）>0
  教练端 任务列表
  GetSchedule
  getCoachList 学员端显示教练列表
  学员未完成订单列表：GetUnCompleteOrder
http://192.168.1.113:8080/xb/sorder?action=GETUNCOMPLETEORDER&studentid=19262
2015-07-31
1 CuserAction 类editSingleCoach方法添加接收省市区id
  singlecoach.jsp的教练详细页面添加设置教练的省市区功能
  SbookServlet类getCanUseCouponList方法添加返回
  resultMap.put("coinnum", num);//可用小巴币
		resultMap.put("money", suser.getMoney()==null?0:suser.getMoney());
		
		SUserServiceImpl类的getCanUseCoinnum方法获得可用小巴币
2015-08-03
////////////////////////////////////////////////
t_coin_record 小巴币记录表 表字段说明
receiverid  接收者id
receivertype 接收者类型   2 教练  3 学员
receivername  接收者姓名 
payerid  支付者id
payertype 支付者类型   2 教练  3 学员
payername  支付者姓名
coinnum  小巴币个数
ownerid  只能使用谁,目前都是教练的ID
ownertype 使用的人的类型，目前是2
ownername 使用人的姓名


冻结教练订单总额的小巴币，直到双方互评后取消冻结，已防止在为评价前教练提现
http://localhost:8080/xb/sbook?action=GETCOACHLIST&condition1=13336048913  按手机号码筛选教练

http://localhost:8080/xb/sbook?action=GETNEARBYCOACH&radius=1000&condition1=13958164555
新增功能：学员的获取教练列表及附近的教练接口新增按教练手机号码筛选功能，客户端教练筛选的搜索框中添加一下 手机号 提示  
修复的问题：
1 新增学员在地图附近列表中的教练详情中的订单总数，响应给客户端的值为sumnum
2 省市区中添加百度地图的ID  值为baiduid
3 学员使用小巴币预约教练成功后，转入给教练的小巴币会被冻结，直到双方互评结算后，冻结的小巴币数量才取消

学员评价完订单后，就开始结算，并且把冻结的金额取消

getWalletInfo 学员端 获取余额接口


getCanUseCouponList 学员获取可以使用的小巴币，小巴券，余额


SettlementOrder 结算

getCanUseCoinnumForDriveSchool 查询学员针对某个驾校的小巴币数量



grantCoinRecord 充值小巴币

getCanUseCouponList  预约时小巴币

GETSTUDENTWALLETINFO  钱包小巴币
GetMessageCount 
